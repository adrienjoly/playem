/* playemjs commit: 3475d0c40be82e2f973badb69e77b6d2bf44ac25 */ 
function AudioFilePlayer(){return AudioFilePlayer.super_.apply(this,arguments)}(function(){var b={onplay:"onPlaying",onresume:"onPlaying",onpause:"onPaused",onstop:"onPaused",onfinish:"onEnded"};function a(f,c){this.label="Audio file";this.eventHandlers=f||{};this.embedVars=c||{};this.element=null;this.widget=null;this.isReady=false;this.trackInfo={};var d,g,e=this;this.soundOptions={id:null,url:null,autoLoad:true,autoPlay:true,ontimeout:function(h){e.eventHandlers.onError&&e.eventHandlers.onError(e,{code:"timeout",source:"AudioFilePayer"})}};for(d in b){(function(h){e.soundOptions[h]=function(){var i=f[b[h]];i&&i(e)}})(d)}g=setInterval(function(){try{if(window.soundManager){clearInterval(g);e.isReady=true;f.onApiReady&&f.onApiReady(e)}}catch(h){e.eventHandlers.onError&&e.eventHandlers.onError(e,{source:"AudioFilePayer",exception:h})}},200)}a.prototype.getEid=function(c){c=(c||"").split("#").pop();if(!c){return null}var d=c.split(".").pop().toLowerCase();return(d=="mp3"||d=="ogg")?c:null};a.prototype.getTrackInfo=function(e){var d=this,c=setInterval(function(){if(d.widget&&d.widget.duration){clearInterval(c);e(d.trackInfo={duration:d.widget.duration/1000,position:d.widget.position/1000})}},500)};a.prototype.getTrackPosition=function(d){var c=this;this.getTrackInfo(function(){d(c.trackInfo.position);c.eventHandlers.onTrackInfo&&c.eventHandlers.onTrackInfo(c.trackInfo)})};a.prototype.setTrackPosition=function(c){this.widget&&this.widget.setPosition(Math.floor(Math.min(this.widget.duration,c*1000)-2000))};a.prototype.embed=function(c){if(!c||!c.trackId){return}this.embedVars=c=c||{};this.soundOptions.id=c.playerId=c.playerId||"mp3Player"+(new Date()).getTime();this.soundOptions.url=c.trackId;this.trackInfo={};if(this.widget){this.pause();this.widget=null;delete this.widget}this.widget=soundManager.createSound(this.soundOptions);this.eventHandlers.onEmbedReady&&this.eventHandlers.onEmbedReady(this);this.eventHandlers.onTrackInfo&&this.getTrackInfo(this.eventHandlers.onTrackInfo);this.play()};a.prototype.play=function(c){this.isReady&&this.embed({trackId:c})};a.prototype.resume=function(){this.isReady&&this.widget&&this.widget.resume()};a.prototype.pause=function(){try{this.isReady&&this.widget&&this.widget.pause()}catch(c){console.error(c.stack)}};a.prototype.stop=function(){this.widget.stop()};a.prototype.setVolume=function(c){if(this.widget&&this.widget.setVolume&&this.soundOptions){soundManager.setVolume(this.soundOptions.id,100*c)}};AudioFilePlayer.prototype=a.prototype;AudioFilePlayer.super_=a})();window.$=window.$||function(){return window.$};$.getJSON=$.getJSON||function(b,a){var c="_cb_"+Date.now();b=b.replace("callback=?","callback="+c);window[c]=function(){a.apply(window,arguments);delete window[c]};loader.includeJS(b)};function BandcampPlayer(){return BandcampPlayer.super_.apply(this,arguments)}(function(d){var b="//api.bandcamp.com/api",c="&key="+d+"&callback=?";function g(h){return h.indexOf("/bc/")==0||h.indexOf("bandcamp.com")!=-1}function e(h){return h.indexOf("bandcamp.com/download/track")!=-1}function f(i,h){i="http://"+i.split("//").pop();$.getJSON(b+"/url/1/info?url="+encodeURIComponent(i)+c,function(j){var k=(j||{}).track_id;if(!k){return h()}$.getJSON(b+"/track/3/info?track_id="+k+c,function(l){h((l||{}).streaming_url)})})}function a(i){var h=this,j=null;this.label="Bandcamp";this.eventHandlers=i||{};this.currentTrack={position:0,duration:0};this.sound=null;this.isReady=false;j=setInterval(function(){if(!!window.soundManager){clearInterval(j);h.isReady=true;h.clientCall("onApiReady",h)}},200)}a.prototype.clientCall=function(i,j){var h=Array.apply(null,arguments).slice(1);return(this.eventHandlers[i]||function(){}).apply(null,h)};a.prototype.soundCall=function(i,j){var h=Array.apply(null,arguments).slice(1);return((this.sound||{})[i]||function(){}).apply(null,h)};a.prototype.getEid=function(h){return g(h)&&h.split("//").pop()};a.prototype.playStreamUrl=function(i){i="http://"+i.split("//").pop();console.log("bc PLAY stream url:",i);var h=this;h.sound=soundManager.createSound({id:"_playem_bc_"+Date.now(),url:i,autoLoad:true,autoPlay:true,whileplaying:function(){h.clientCall("onTrackInfo",h.currentTrack={position:h.sound.position/1000,duration:h.sound.duration/1000})},onplay:function(j){h.clientCall("onPlaying",h)},onresume:function(){h.clientCall("onPlaying",h)},onfinish:function(){h.clientCall("onEnded",h)}})};a.prototype.play=function(i){var h=this.playStreamUrl.bind(this);if(e(i)){h(i)}else{f(i,h)}};a.prototype.pause=function(){this.soundCall("pause")};a.prototype.stop=function(){this.soundCall("stop");this.soundCall("destruct");this.sound=null};a.prototype.resume=function(){this.soundCall("resume")};a.prototype.setTrackPosition=function(h){this.soundCall("setPosition",Math.round(h*1000))};a.prototype.setVolume=function(h){this.soundCall("setVolume",Math.round(h*100))};BandcampPlayer.prototype=a.prototype;BandcampPlayer.super_=a})("vatnajokull");function DailymotionPlayer(){return DailymotionPlayer.super_.apply(this,arguments)}(function(){var c=/(dailymotion.com(?:\/embed)?\/video\/|\/dm\/)([\w-]+)/,b=0;EVENT_MAP={0:"onEnded",1:"onPlaying",2:"onPaused"};function a(f,d){this.eventHandlers=f||{};this.embedVars=d||{};this.label="Dailymotion";this.element=null;this.isReady=false;this.trackInfo={};var e=this;window.onDailymotionStateChange=function(g){console.log("DM new state",g);if(g>0||!b){e.safeClientCall(EVENT_MAP[g],e)}else{--b}};window.onDailymotionError=function(g){console.log("DM error",g);e.safeClientCall("onError",e,{source:"DailymotionPlayer",data:g})};window.onDailymotionAdStart=function(){console.log("DM AD START");e.safeClientCall("onBuffering",e)};window.onDailymotionPlayerReady=function(g){e.element=document.getElementById(g);e.element.addEventListener("onStateChange","onDailymotionStateChange");e.element.addEventListener("onError","onDailymotionError");e.element.addEventListener("onLinearAdStart","onDailymotionAdStart")};e.isReady=true;e.safeClientCall("onApiReady",e)}a.prototype.safeCall=function(f,h,g){var e=Array.apply(null,arguments).slice(1),d=(this.element||{})[f];return d&&d.apply(this.element,e)};a.prototype.safeClientCall=function(d,h,g){try{return this.eventHandlers[d]&&this.eventHandlers[d](h,g)}catch(f){console.error("DM safeclientcall error",f.stack)}};a.prototype.embed=function(h){this.embedVars=h=h||{};this.embedVars.playerId=this.embedVars.playerId||"dmplayer";this.trackInfo={};this.element=document.createElement("object");this.element.id=this.embedVars.playerId;this.embedVars.playerContainer.appendChild(this.element);var f,e,d,i={allowScriptAccess:"always"},j={id:this.embedVars.playerId},g={info:0,logo:0,related:0,autoplay:1,enableApi:1,showinfo:0,hideInfos:1,chromeless:1,withLoading:0,playerapiid:this.embedVars.playerId};f=Object.keys(g).map(function(l){return l+"="+encodeURIComponent(g[l])}).join("&");e=Object.keys(i).map(function(l){return'<param name="'+l+'" value="'+encodeURIComponent(i[l])+'">'}).join();d={id:this.embedVars.playerId,width:this.embedVars.width||"200",height:this.embedVars.height||"200",type:"application/x-shockwave-flash",data:window.location.protocol+"//www.dailymotion.com/swf/"+this.embedVars.videoId+"?"+f,innerHTML:e};if(USE_SWFOBJECT){swfobject.embedSWF(d.data,this.embedVars.playerId,d.width,d.height,"9.0.0","/js/swfobject_expressInstall.swf",null,i,j)}else{$(this.element).attr(d)}$(this.element).show();this.safeClientCall("onEmbedReady")};a.prototype.getEid=function(d){return c.test(d)&&RegExp.lastParen};a.prototype.play=function(d){if(!this.currentId||this.currentId!=d){this.embedVars.videoId=d;this.embed(this.embedVars)}};a.prototype.pause=function(d){this.safeCall("pauseVideo")};a.prototype.resume=function(d){this.safeCall("playVideo")};a.prototype.stop=function(d){++b;this.safeCall("clearVideo");if((this.element||{}).parentNode){this.element.parentNode.removeChild(this.element)}};a.prototype.getTrackPosition=function(d){this.trackInfo.duration=this.safeCall("getDuration");d&&d(this.safeCall("getCurrentTime"))};a.prototype.setTrackPosition=function(d){this.safeCall("seekTo",d)};a.prototype.setVolume=function(d){this.safeCall("setVolume",d*100)};DailymotionPlayer.prototype=a.prototype;DailymotionPlayer.super_=a})();window.showMessage=window.showMessage||function(a){console.warn("[showMessage]",a)};window.$=window.$||function(){return window.$};$.getScript=$.getScript||function(b,a){loader.includeJS(b,a)};$.append=$.append||function(a){document.write(a)};function DeezerPlayer(){return DeezerPlayer.super_.apply(this,arguments)}(function(){var b="https://cdns-files.deezer.com/js/min/dz.js",i=false,e=false,f=/(deezer\.com\/track|\/dz)\/(\d+)/,c={player_play:"onPlaying",player_paused:"onPaused",player_position:"onTrackInfo"};function a(l){var k=this;this.label="Deezer";this.eventHandlers=l||{};this.currentTrack={position:0,duration:0};d(function(){j(function(){DZ.getLoginStatus(function(m){DZ.player.setRepeat(0);e=m.userID;k.isReady=true;h(k)})})})}a.prototype.isLogged=function(){return e};a.prototype.getEid=function(k){return f.test(k)&&RegExp.lastParen};a.prototype.play=function(l){var k=this;if(e){DZ.player.playTracks([l],0)}else{DZ.api("/track/"+l,function(m){showMessage('This is a 30 secs preview. <a href="javascript:DeezerPlayer.login()">Connect to Deezer</a> to listen to the full track.');k.sound=g(k,m.preview)})}};a.prototype.pause=function(){if(this.sound){this.sound.pause()}else{DZ.player.pause()}};a.prototype.stop=function(){if(this.sound){this.sound.stop();this.sound.destruct();this.sound=null}else{DZ.player.pause()}};a.prototype.resume=function(){if(this.sound){this.sound.resume()}else{DZ.player.play()}};a.prototype.setTrackPosition=function(k){if(this.sound){this.sound.setPosition(Math.round(k*1000))}else{DZ.player.seek(Math.round(100*k/this.currentTrack.duration))}};a.prototype.setVolume=function(k){if(this.sound){this.sound.setVolume(Math.round(k*100))}else{DZ.player.setVolume(Math.round(k*100))}};function d(l){if(!i){var k=document.createElement("div");k.id="dz-root";document.getElementsByTagName("body")[0].appendChild(k);$.getScript(b,function(){i=true;l()})}else{l()}}function j(k){DZ.init({appId:DEEZER_APP_ID,channelUrl:DEEZER_CHANNEL_URL,player:{onload:k}})}function h(k){function l(n){if(n==="player_position"){return function(p){var s=k.eventHandlers.onTrackInfo,q=k.eventHandlers.onEnded,o=p[0],r=p[1];if(s){k.currentTrack={position:o,duration:r};s(k.currentTrack)}if((r-o<=1.5)&&q){q(k)}}}return function(){var o=k.eventHandlers[c[n]];o&&o(k)}}for(var m in c){DZ.Event.suscribe(m,l(m))}k.eventHandlers.onApiReady&&k.eventHandlers.onApiReady(k)}function g(k,l){return soundManager.createSound({id:"deezerSound"+Date.now(),url:l,autoLoad:true,autoPlay:true,whileplaying:function(){k.currentTrack={position:k.sound.position/1000,duration:k.sound.duration/1000};if(k.eventHandlers.onTrackInfo){k.eventHandlers.onTrackInfo(k.currentTrack)}},onplay:function(){if(k.eventHandlers.onPlaying){k.eventHandlers.onPlaying(k)}},onresume:function(){if(k.eventHandlers.onPlaying){k.eventHandlers.onPlaying(k)}},onfinish:function(){if(k.eventHandlers.onEnded){k.eventHandlers.onEnded(k)}}})}DeezerPlayer.login=function(){DZ.login(function(k){if(k.userID){e=true;showMessage("Login successful. Your Deezer tracks will be full length from now on!")}else{showMessage("Deezer login unsuccesful.",true)}},{perms:"email"})};DeezerPlayer.prototype=a.prototype;DeezerPlayer.super_=a})();window.$=window.$||function(){return window.$};$.getScript=$.getScript||function(b,a){loader.includeJS(b,a)};$.getJSON=$.getJSON||function(b,a){var c="_cb_"+Date.now();b=b.replace("callback=?","callback="+c);window[c]=function(){a.apply(window,arguments);delete window[c]};loader.includeJS(b)};function SoundCloudPlayer(){return SoundCloudPlayer.super_.apply(this,arguments)}(function(){var c={onplay:"onPlaying",onresume:"onPlaying",onpause:"onPaused",onstop:"onPaused",onfinish:"onEnded"},b=["onerror","ontimeout","onfailure","ondataerror"];function a(f,d){this.label="SoundCloud";this.eventHandlers=f||{};this.embedVars=d||{};this.element=null;this.widget=null;this.isReady=false;this.trackInfo={};this.soundOptions={autoPlay:true};var e=this;$.getScript("https://connect.soundcloud.com/sdk.js",function(){SC.initialize({client_id:SOUNDCLOUD_CLIENT_ID});for(var g in c){(function(h){e.soundOptions[h]=function(){var i=f[c[h]];i&&i(e)}})(g)}b.map(function(h){e.soundOptions[h]=function(i){console.error("SC error:",h,i,i.stack);e.eventHandlers.onError&&e.eventHandlers.onError(e,{code:h.substr(2),source:"SoundCloudPlayer"})}});e.isReady=true;soundManager.onready(function(){e.callHandler("onApiReady",e)})});this.callHandler=function(g,i){try{f[g]&&f[g](i)}catch(h){console.error("SC error:",h,h.stack)}}}a.prototype.safeCall=function(d,g){try{if(this.widget&&this.widget[d]){this.widget[d](g)}}catch(f){console.error("SC safecall error",f.stack)}};a.prototype.getEid=function(d){if(/(soundcloud\.com)\/player\/\?.*url\=(.+)/.test(d)){d=decodeURIComponent(RegExp.lastParen)}if(/(soundcloud\.com)(\/[\w-_\/]+)/.test(d)){return RegExp.lastParen}else{if(/snd\.sc\/([\w-_]+)/.test(d)){return RegExp.lastMatch}}};a.prototype.getTrackPosition=function(d){d(this.trackInfo.position=this.widget.position/1000);if(this.widget.durationEstimate){this.eventHandlers.onTrackInfo&&this.eventHandlers.onTrackInfo({duration:this.widget.duration/1000})}};a.prototype.setTrackPosition=function(d){this.safeCall("setPosition",d*1000)};a.prototype.play=function(f){console.log("sc PLAY id:",f);this.trackInfo={};var e=this;function d(g){console.log("=> sc PLAY id:",g);e.embedVars.trackId=g;SC.stream(g,e.soundOptions,function(h){e.widget=h;e.callHandler("onEmbedReady",e)})}if(f.indexOf("/tracks/")==0){return d(f)}f="http://"+(!f.indexOf("/")?"soundcloud.com":"")+f;console.log("sc resolve url:",f);$.getJSON("https://api.soundcloud.com/resolve.json?client_id="+SOUNDCLOUD_CLIENT_ID+"&url="+encodeURIComponent(f)+"&callback=?",function(g){d(g.id)})};a.prototype.resume=function(){this.safeCall("play")};a.prototype.pause=function(){this.safeCall("pause")};a.prototype.stop=function(){this.safeCall("stop")};a.prototype.setVolume=function(d){this.safeCall("setVolume",100*d)};SoundCloudPlayer.prototype=a.prototype;SoundCloudPlayer.super_=a})();window.$=window.$||function(){return window.$};$.show=$.show||function(){return $};$.param=$.param||function(a){return Object.keys(a).map(function(b){return encodeURIComponent(b)+"="+encodeURIComponent(a[b])}).join("&")};function VimeoPlayer(){return VimeoPlayer.super_.apply(this,arguments)}(function(){var c=true,b="//vimeo.com/moogaloop.swf?",d={play:"onPlaying",resume:"onPlaying",pause:"onPaused",finish:"onEnded",playProgress:function(f,g){f.trackInfo={duration:Number(g.data.duration),position:Number(g.data.seconds)};f.eventHandlers.onTrackInfo&&f.eventHandlers.onTrackInfo(f.trackInfo)},progress:function(e,f){e.trackInfo={duration:Number(e.element.api_getDuration()),position:Number(f)};e.eventHandlers.onTrackInfo&&e.eventHandlers.onTrackInfo(e.trackInfo)}};function a(j,e){this.label="Vimeo";this.element=null;this.eventHandlers=j||{};this.embedVars=e||{};this.isReady=false;this.trackInfo={};var g,h=this;if(!c){function f(k){try{var i=JSON.parse(k.data);if(i.player_id==h.embedVars.playerId){if(i.event=="ready"){for(g in d){h.post("addEventListener",g)}}else{setTimeout(function(){(j[d[i.event]]||d[i.event])(h,i)})}}}catch(k){console.log("VimeoPlayer error",k,k.stack);h.eventHandlers.onError&&h.eventHandlers.onError(h,{source:"VimeoPayer",exception:k})}}if(window.addEventListener){window.addEventListener("message",f,false)}else{window.attachEvent("onmessage",f,false)}}h.isReady=true;j.onApiReady&&j.onApiReady(h)}a.prototype.post=c?function(h,g){try{var f=Array.apply(null,arguments).slice(1);return this.element["api_"+h].apply(this.element,f)}catch(i){console.log("VIMEO error",i)}}:function(g,f){var e={method:g};if(f){e.value=f}this.element.contentWindow.postMessage(JSON.stringify(e),this.element.src.split("?")[0])};a.prototype.getEid=function(e){return/(vimeo\.com\/(clip\:|video\/)?|\/vi\/)(\d+)/.test(e)&&RegExp.lastParen};a.prototype.setTrackPosition=function(e){this.post("seekTo",e)};a.prototype.embed=function(l){this.embedVars=l=l||{};this.embedVars.playerId=this.embedVars.playerId||"viplayer";this.trackInfo={};if(c){var j,e,h,m,o,n,k=this,f={server:"vimeo.com",player_server:"player.vimeo.com",api_ready:"vimeo_ready",player_id:this.embedVars.playerId,clip_id:l.videoId,title:0,byline:0,portrait:0,fullscreen:0,autoplay:1,js_api:1};window.vimeoHandlers={};function g(){for(var i in d){(function(p){vimeoHandlers[p]=function(q){(k.eventHandlers[d[p]]||d[p])(k,q)};k.element.api_addEventListener("on"+p[0].toUpperCase()+p.substr(1),"vimeoHandlers."+p)})(i)}if(k.eventHandlers.onEmbedReady){k.eventHandlers.onEmbedReady()}}e={src:b+$.param(f).replace(/\&/g,"&amp;"),type:"application/x-shockwave-flash",classid:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",allowscriptaccess:"always",width:this.embedVars.width||"200",height:this.embedVars.height||"200"};window.vimeo_ready=function(){k.otherElement=k.element;k.otherElement.setAttribute("id",k.embedVars.playerId+"_");k.element=k.otherElement.parentNode.getElementsByTagName("embed")[0];k.element.setAttribute("id",k.embedVars.playerId);g()};window.vimeo_ready_object=function(){g()};f.api_ready="vimeo_ready_object";h={AllowScriptAccess:"always",WMode:"opaque",FlashVars:$.param(f).replace(/\&/g,"&amp;"),Movie:b+$.param(f)};m="";for(j in h){m+='<param name="'+j.toLowerCase()+'" value="'+h[j]+'">'}o={id:this.embedVars.playerId,src:b+$.param(f).replace(/\&/g,"&amp;"),type:"application/x-shockwave-flash",classid:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",allowscriptaccess:"always",width:this.embedVars.width||"200",height:this.embedVars.height||"200"};n="";for(j in o){n+=j+'="'+o[j]+'" '}m+="<embed ";for(j in e){m+=j+'="'+e[j]+'" '}m+="></embed>";this.embedVars.playerContainer.innerHTML+="<object "+n+">"+m+"</object>";this.element=document.getElementById(this.embedVars.playerId)}else{this.element=document.createElement("iframe");$(this.element).attr({id:this.embedVars.playerId,width:this.embedVars.width||"200",height:this.embedVars.height||"200",frameborder:"0",webkitAllowFullScreen:true,mozallowfullscreen:true,allowScriptAccess:"always",allowFullScreen:true,src:"//player.vimeo.com/video/"+l.videoId+"?"+$.param({api:1,js_api:1,player_id:this.embedVars.playerId,title:0,byline:0,portrait:0,autoplay:1})}).show();if(this.eventHandlers.onEmbedReady){this.eventHandlers.onEmbedReady()}}};a.prototype.play=function(e){if(e&&(!this.currentId||this.currentId!=e)){this.embedVars.videoId=e;this.embed(this.embedVars)}};a.prototype.resume=function(){this.post("play")};a.prototype.pause=function(){this.post("pause")};a.prototype.stop=function(){this.post("unload");if((this.element||{}).parentNode){this.element.parentNode.removeChild(this.element)}if((this.otherElement||{}).parentNode){this.otherElement.parentNode.removeChild(this.otherElement)}};a.prototype.setVolume=function(e){this.post("setVolume",100*e)};VimeoPlayer.prototype=a.prototype;VimeoPlayer.super_=a})();window.$=window.$||function(){return window.$};$.show=$.show||function(){return $};$.attr=$.attr||function(){return $};function YoutubePlayer(){return YoutubePlayer.super_.apply(this,arguments)}(function(){var b=/(youtube\.com\/(v\/|embed\/|(?:.*)?[\?\&]v=)|youtu\.be\/)([a-zA-Z0-9_\-]+)/,c={0:"onEnded",1:"onPlaying",2:"onPaused"};function a(f,d){this.eventHandlers=f||{};this.embedVars=d||{};this.label="Youtube";this.isReady=false;this.trackInfo={};var e=this;window.onYoutubeStateChange=function(h){if(h==1){e.trackInfo.duration=e.element.getDuration()}var g=c[h];if(g&&e.eventHandlers[g]){e.eventHandlers[g](e)}};window.onYoutubeError=function(g){f.onError&&f.onError(e,{source:"YoutubePlayer",code:g})};window.onYouTubePlayerReady=window.onYouTubePlayerAPIReady=function(g){e.element=document.getElementById(g);e.element.addEventListener("onStateChange","onYoutubeStateChange");e.element.addEventListener("onError","onYoutubeError")};e.isReady=true;if(e.eventHandlers.onApiReady){e.eventHandlers.onApiReady(e)}}a.prototype.safeCall=function(g,i){try{var f=Array.apply(null,arguments).slice(1),d=(this.element||{})[g];d&&d.apply(this.element,f)}catch(h){console.error("YT safecall error",h,h.stack)}};a.prototype.safeClientCall=function(d,g){try{if(this.eventHandlers[d]){this.eventHandlers[d](g)}}catch(f){console.error("YT safeclientcall error",f.stack)}};a.prototype.embed=function(g){this.embedVars=g=g||{};this.embedVars.playerId=this.embedVars.playerId||"ytplayer";this.trackInfo={};this.element=document.createElement("object");this.element.id=this.embedVars.playerId;this.embedVars.playerContainer.appendChild(this.element);var f,e,d,h={autoplay:1,version:3,enablejsapi:1,playerapiid:this.embedVars.playerId,controls:0,modestbranding:1,showinfo:0,wmode:"opaque",iv_load_policy:3,allowscriptaccess:"always",origin:this.embedVars.origin};f=Object.keys(h).map(function(i){return i+"="+encodeURIComponent(h[i])}).join("&");e=Object.keys(h).map(function(i){return'<param name="'+i+'" value="'+encodeURIComponent(h[i])+'">'}).join();d={id:this.embedVars.playerId,width:this.embedVars.width||"200",height:this.embedVars.height||"200",type:"application/x-shockwave-flash",data:window.location.protocol+"//www.youtube.com/v/"+this.embedVars.videoId+"?"+f,innerHTML:e};if(USE_SWFOBJECT){swfobject.embedSWF(d.data,this.embedVars.playerId,d.width,d.height,"9.0.0","/js/swfobject_expressInstall.swf",null,h)}else{$(this.element).attr(d)}$(this.element).show();this.safeClientCall("onEmbedReady")};a.prototype.getEid=function(d){if(b.test(d)||/\/yt\/([a-zA-Z0-9_\-]+)/.test(d)||/youtube\.com\/attribution_link\?.*v\%3D([^ \%]+)/.test(d)){return RegExp.lastParen}};a.prototype.play=function(d){if(!this.currentId||this.currentId!=d){this.embedVars.videoId=d;this.embed(this.embedVars)}};a.prototype.pause=function(){if(this.element&&this.element.pauseVideo){this.element.pauseVideo()}};a.prototype.resume=function(){if(this.element&&this.element.playVideo){this.element.playVideo()}};a.prototype.stop=function(){if(this.element&&this.element.stopVideo){this.element.stopVideo()}if(USE_SWFOBJECT){swfobject.removeSWF(this.embedVars.playerId)}};a.prototype.getTrackPosition=function(d){if(d&&this.element&&this.element.getCurrentTime){d(this.element.getCurrentTime())}};a.prototype.setTrackPosition=function(d){this.safeCall("seekTo",d,true)};a.prototype.setVolume=function(d){if(this.element&&this.element.setVolume){this.element.setVolume(d*100)}};YoutubePlayer.prototype=a.prototype;YoutubePlayer.super_=a})();var USE_SWFOBJECT=true,PLAY_TIMEOUT=10000;window.$=window.$||function(){return window.$};$.html=$.html||function(){return $};$.remove=$.remove||function(){return $};if(undefined==window.console){window.console={log:function(){}}}loader=new (function Loader(){var c={loaded:true,complete:true,4:true},a=document.getElementsByTagName("head")[0],b={};return{includeJS:function(f,d){if(b[f]){return}b[f]=true;var e=document.createElement("script");e.onload=e.onreadystatechange=function(){if(b[f]&&(!e.readyState||c[e.readyState])){d&&d();delete b[f]}};e.src=f;a.appendChild(e)}}});function EventEmitter(){this._eventListeners={}}EventEmitter.prototype.on=function(a,b){this._eventListeners[a]=(this._eventListeners[a]||[]).concat(b)};EventEmitter.prototype.emit=function(a){var c,b=Array.prototype.slice.call(arguments,1),d=this._eventListeners[a];for(c in d){d[c].apply(null,b)}};function inherits(b,a){b.super_=a;b.prototype=Object.create(a.prototype,{constructor:{value:b,enumerable:false,writable:true,configurable:true}})}function Playem(b){function a(s){EventEmitter.call(this);s=s||{};s.loop=s.hasOwnProperty("loop")?s.loop:true;var c=[],w,x,l=null,d=[],m=null,q=0,h=null,j=this,e=null,v=1;this.setPref=function(i,y){s[i]=y};function f(z,y){var i=null;function A(){if(z.isReady&&i){clearInterval(i);y()}else{console.warn("PLAYEM waiting for",z.label,"...")}}if(z.isReady){setTimeout(y)}else{i=setInterval(A,1000)}}function t(z,y){var i={index:d.length,metadata:z||{}};if(y){i.url=y}d.push(i);return i}function r(A,z,y){if(A){var i=t(y);i.trackId=A;i.player=z;i.playerName=z.label.replace(/ /g,"_");return i}else{throw new Error("no id provided")}}function o(i){v=i;p("setVolume",i)}function u(){if(l){p("stop");if(h){clearInterval(h)}}}function g(i){u();l=i;delete l.trackPosition;delete l.trackDuration;j.emit("onTrackChange",i);if(!i.player){return j.emit("onError",{code:"unrecognized_track",source:"Playem",track:i})}f(i.player,function(){p("play",i.trackId);o(v);if(l.index==d.length-1){j.emit("loadMore")}n(function(){console.warn("PLAYEM TIMEOUT");j.emit("onError",{code:"timeout",source:"Playem"})})})}function n(i){if(e){clearTimeout(e)}e=!i?null:setTimeout(i,PLAY_TIMEOUT)}function p(i,z){try{return l.player[i](z)}catch(y){console.warn("Player call error",i,y,y.stack)}}function k(y){var i={onApiReady:function(z){if(m&&z==m.player){m.fct()}if(0==--q){j.emit("onReady")}},onEmbedReady:function(z){o(v)},onBuffering:function(z){setTimeout(function(){n();j.emit("onBuffering")})},onPlaying:function(z){o(v);setTimeout(function(){j.emit("onPlay")},1);if(z.trackInfo&&z.trackInfo.duration){i.onTrackInfo({position:z.trackInfo.position||0,duration:z.trackInfo.duration})}if(h){clearInterval(h)}if(z.getTrackPosition){h=setInterval(function(){z.getTrackPosition(function(A){i.onTrackInfo({position:A,duration:z.trackInfo.duration||l.trackDuration})})},1000)}},onTrackInfo:function(z){if(l&&z){if(z.duration){l.trackDuration=z.duration;n()}if(z.position){l.trackPosition=z.position}}j.emit("onTrackInfo",l)},onPaused:function(z){n();if(h){clearInterval(h)}h=null},onEnded:function(z){u();j.emit("onEnd");y.next()},onError:function(A,z){console.error(A.label+" error:",((z||{}).exception||z||{}).stack||z);n();j.emit("onError",z)}};["onEmbedReady","onBuffering","onPlaying","onPaused","onEnded","onError"].map(function(z){var A=i[z];i[z]=function(C,B){if(C==l.player){return A(C,B)}else{if(z!="onEmbedReady"){console.warn("ignore event:",z,"from",C,"instead of:",l.player)}}}});return i}x={addPlayer:function(y,i){q++;c.push(new y(k(this),i))},getQueue:function(){return d},clearQueue:function(){d=[]},addTrackByUrl:function(y,A){var B,z,i;for(B=0;B<c.length;++B){z=c[B];i=z.getEid(y);if(i){return r(i,z,A)}}return t(A,y)},play:function(y){g(y!=undefined?d[y]:l||d[0])},pause:function(){p("pause");j.emit("onPause")},stop:u,resume:function(){p("resume")},next:function(){if(s.loop||l.index+1<d.length){g(d[(l.index+1)%d.length])}},prev:function(){g(d[(d.length+l.index-1)%d.length])},seekTo:function(i){if((l||{}).trackDuration){p("setTrackPosition",i*l.trackDuration)}},setVolume:o};for(w in x){this[w]=x[w]}}inherits(a,EventEmitter);return new a()};